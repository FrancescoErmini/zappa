<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core">
<!--  <f:metadata>
		    <f:viewParam id="registroType" name="registroType" value="#{registroController.registroType}" required="true"></f:viewParam>	
		 <f:viewParam id="luogoID" name="luogoID" value="#{registroController.luogoID}" required="true"></f:viewParam>	
			
</f:metadata>-->
<ui:decorate template="/WEB-INF/templates/layout.xhtml">
   <ui:define name="body">
	


<h:panelGroup rendered="#{empty registroController.registri}">
		<i>attenzione: Nessun registro trovato </i>	
		<i> creare una 
		<h:link outcome="/operazione-add-1.xhtml" value=" nuova operazione"/>
		</i>
</h:panelGroup>
<!--  
<h:panelGroup rendered="#{not empty registroController.registri}">
-->
<ui:insert>
	<ui:include src="/WEB-INF/registro-header.xhtml" />
</ui:insert>



<div class="tabella block">
<table style="border-collapse: collapse"> 

				
		



<!-- <TR><TH rowspan="2"><TH colspan="2">Average
    <TH rowspan="2">Red<BR>eyes
<TR><TH>height<TH>weight -->
			<thead>
			
				<tr>
					
					
					<th>Data</th>		
					<th>Vitigno</th>
					<th>Filare</th>
					<th>Quantita Raccolata</th>
					<th>Tipologia Vendemmia</th>
					<th>Rif.</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
			   
			
	<ui:repeat var="registro" value="#{registroController.registri}">
	<tr>
					
					
					   
					   <td>
					   		<h:outputText value="#{registro.operazione.data}">	</h:outputText>
					   </td>
					   
						
					   
						<td>
							<h:outputText value="#{registro.vitigno}" ></h:outputText>					
						</td>
						
					     <td>
					 <!--   <h:outputText value="#{registro.operazione.oggetto.oggettoType.nomeOggetto}: " />--> 
							<h:outputText value="#{registro.operazione.oggetto.numero}" ></h:outputText>					
						</td>
						<td>
							<h:outputText value="#{registro.quintaliUVA}" rendered="#{not registro.editable}" ></h:outputText>
							<h:inputText value="#{registro.quintaliUVA}" rendered="#{registro.editable}" ></h:inputText>
						</td>
					
					
						<td>
							<h:outputText value="#{registro.tipologiaVendemmia}" ></h:outputText>
						</td>
						
						
						
					
			       
						
							<td>
							<h:link outcome="/operazione/view/#{registro.operazione.operazioneType.label}.xhtml" value="dettagli" includeViewParams="true">
								<f:param name="operazioneID" value="#{registro.operazione.id}"></f:param>			
							</h:link>
					   </td>
						
				
					   <td>
					   <h:commandLink value="Edit" action="#{registroController.editAction(registro)}" rendered="#{not registro.editable}" />
					   </td>
						
					</tr>
				</ui:repeat>
			</tbody>
		</table>
		
	</div>		
		
		
		
		
		
		
		
		
		<!--  /h:panelGroup>-->
		 
		 <div class="block">
		 <h:link outcome="registro-select.xhtml" value="Indietro" class="float-left nav"></h:link> 
		<h:commandButton value="Save Changes" action="#{registroController.saveAction}"  class="float-right nav"/>
		</div>

</ui:define>
</ui:decorate>
</ui:composition>